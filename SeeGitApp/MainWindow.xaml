<Window x:Class="SeeGit.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:graphsharp="clr-namespace:GraphSharp.Controls;assembly=GraphSharp.Controls" xmlns:local="clr-namespace:SeeGit"
        xmlns:zoom="clr-namespace:WPFExtensions.Controls;assembly=WPFExtensions" Title="GraphSharpDemo" Height="465"
        mc:Ignorable="d" Width="708">
  <Window.Resources>

    <DataTemplate x:Key="commitDetailsTemplate" DataType="{x:Type local:CommitVertex}">
      <StackPanel Orientation="Horizontal" Margin="5">
        <TextBlock Text="{Binding Path=Description, Mode=OneWay}" Foreground="White" />
      </StackPanel>
    </DataTemplate>

    <Style TargetType="{x:Type graphsharp:VertexControl}">
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="{x:Type graphsharp:VertexControl}">
            <Grid>
              <Border BorderBrush="White" Background="Black" BorderThickness="2" CornerRadius="10,10,10,10"
                      Padding="{TemplateBinding Padding}">
                <Expander IsExpanded="False" Header="{Binding Path=ShortSha, Mode=OneWay}">
                  <Expander.Style>
                    <Style TargetType="Expander">
                      <Setter Property="Foreground" Value="White" />
                      <Setter Property="FontFamily" Value="Lucida Console" />
                    </Style>
                  </Expander.Style>
                </Expander>

                <Border.Effect>
                  <DropShadowEffect BlurRadius="2" Color="LightGray" Opacity="0.3" Direction="315" />
                </Border.Effect>

              </Border>
              <Border>
                <Border.RenderTransform>
                  <TranslateTransform X="100" Y="5" />
                </Border.RenderTransform>
                <StackPanel Orientation="Horizontal">
                  <TextBlock Text="{Binding Path=Message}" Foreground="White" />
                </StackPanel>
              </Border>
            </Grid>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>
  </Window.Resources>

  <Grid d:DataContext="{d:DesignInstance local:DesignTimeMainWindowViewModel, IsDesignTimeCreatable=True}">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
    </Grid.RowDefinitions>

    <StackPanel Orientation="Vertical" Grid.Row="0">
      <StackPanel Orientation="Horizontal" Background="Black" HorizontalAlignment="Stretch" Margin="0">
        <Label VerticalAlignment="Center" VerticalContentAlignment="Center" Foreground="White" FontSize="10"
               FontFamily="Verdana" FontWeight="Bold" Margin="0,0,0,0" Content="Repository Path:" />
        <Label VerticalAlignment="Center" VerticalContentAlignment="Center" Foreground="White" FontSize="10"
               FontFamily="Verdana" FontWeight="Bold" Margin="0,0,0,0" Content="c:\dev\git\Test" />
      </StackPanel>
    </StackPanel>

    <zoom:ZoomControl Grid.Row="1" Zoom="0.2" ZoomBoxOpacity="0.5" Background="#ff656565">
      <local:RepositoryGraphLayout x:Name="graphLayout" Margin="10" Graph="{Binding Path=Graph}"
                                   LayoutAlgorithmType="{Binding Path=LayoutAlgorithmType, Mode=OneWay}" OverlapRemovalAlgorithmType="FSA"
                                   FlowDirection="LeftToRight" HighlightAlgorithmType="Simple" />
    </zoom:ZoomControl>
  </Grid>
</Window>